"use strict";angular.module("localTalentsUiApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angular-timeline","ngMaterial","ui.bootstrap.datetimepicker"]).config(["$routeProvider",function(a){a.when("/main",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/favourites",{templateUrl:"views/favourites.html",controller:"FavouritesCtrl"}).when("/favouritesDrill1",{templateUrl:"views/favouritesdrill1.html",controller:"Favouritesdrill1Ctrl"}).when("/favouritesDrill2",{templateUrl:"views/favouritesdrill2.html",controller:"Favouritesdrill2Ctrl"}).when("/searchRes/:arg1/:arg2/:arg3/:arg4",{templateUrl:"views/searchres.html",controller:"SearchresCtrl"}).when("/search",{templateUrl:"views/search.html",controller:"SearchCtrl"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl as login"}).when("/",{templateUrl:"views/login.html",controller:"LoginCtrl as login"}).when("/addNew",{templateUrl:"views/addnew.html",controller:"AddnewCtrl"}).when("/sidenav",{templateUrl:"views/sidenav.html",controller:"SidenavCtrl"}).when("/welcome",{templateUrl:"views/welcome.html",controller:"WelcomeCtrl as welcome"}).when("/email",{templateUrl:"views/email.html",controller:"EmailCtrl"}).when("/ocr",{templateUrl:"views/ocr.html",controller:"OcrCtrl"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$location",function(a,b){a.sidenavOpen=!1,a.showMainHeader=!1,console.log("in app run"),a.toggleSidenav=function(){console.log(a.sidenavOpen),a.sidenavOpen=!a.sidenavOpen},a.navigateTo=function(c){a.showMainHeader=!0,a.sidenavOpen=!1,b.path(c)}}]),angular.module("localTalentsUiApp").service("fetchFavDataSvc",["$q","$http","cache",function(a,b,c){this.updateFavData=function(){a.defer();b.post(data,function(a,b){})},this.fetchfavData=function(){var d=a.defer();return b.get(c.url+"/getFavData").then(function(a){d.resolve(),console.log(a),fetchFavDataSvc.savedData=a.data,$scope.showSpinner="",$scope.fetchText="Data fetched",$scope.showLoad=!1},function(a){d.reject("Unable to fetch data"),swal("Unable to fetch data","Please check your internet connection","error"),$scope.showSpinner=!1}),d.promise},this.savedData=[],this.favDataSync=[],this.currentFav={};var d={};b.get("fixtures/cities.json").then(function(a){console.log(a.data),d=a.data}),this.getCityData=function(a){var b=d[a.name];return console.log(a),b},this.countryMapping=[{name:"South Africa",code:"southafrica",className:"flag-icon flag-icon-za"},{name:"USA",code:"US",className:"flag-icon flag-icon-us"},{name:"India",code:"IN",className:"flag-icon flag-icon-in"},{name:"UK",code:"GB",className:"flag-icon flag-icon-gb"},{name:"Argentina",code:"AR",className:"flag-icon flag-icon-ar"},{name:"Australia",code:"AU",className:"flag-icon flag-icon-au"},{name:"Belgium",code:"BE",className:"flag-icon flag-icon-be"},{name:"Brasil",code:"BR",className:"flag-icon flag-icon-br"},{name:"Canada",code:"CA",className:"flag-icon flag-icon-ca"},{name:"Colombia",code:"CO",className:"flag-icon flag-icon-co"},{name:"Spain",code:"ES",className:"flag-icon flag-icon-es"},{name:"France",code:"FR",className:"flag-icon flag-icon-fr"},{name:"Ireland",code:"IE",className:"flag-icon flag-icon-ie"},{name:"Italy",code:"IT",className:"flag-icon flag-icon-it"},{name:"Mexico",code:"MX",className:"flag-icon flag-icon-mx"},{name:"Netherlands",code:"NL",className:"flag-icon flag-icon-nl"},{name:"New Zealand",code:"NZ",className:"flag-icon flag-icon-nz"},{name:"Singapore",code:"SG",className:"flag-icon flag-icon-sg"},{name:"UAE",code:"AE",className:"flag-icon flag-icon-ae"},{name:"Other",code:"IN",className:"flag-icon flag-icon"}]}]),angular.module("localTalentsUiApp").service("checkCordovaSvc",function(){this.isCordovaApp=-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")}),angular.module("localTalentsUiApp").service("calendarSvc",["checkCordovaSvc",function(a){this.addEntry=function(b,c,d,e){if(a.isCordovaApp){var f=new Date(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]),g=b[4]+45,h=b[3];g>=60&&(g-=60,h+=1);var i=new Date(b[0],b[1],b[2],h,g,b[5],0,0),j=function(a){},k=function(a){swal("Unable to add","error")};return window.plugins.calendar.createCalendar("Recruitment Calendar",j,k),window.plugins.calendar.createEvent(c,e,d,f,i,j,k),!0}return swal("Use on a mobile device for calendar support","error"),!1}}]),angular.module("localTalentsUiApp").service("emailSvc",["checkCordovaSvc",function(a){this.sendEmail=function(b,c,d,e,f){a.isCordovaApp?cordova.plugins.email.open({to:b,cc:"",bcc:[""],subject:e,body:f}):swal("Please open in mobile device to use email service","error")},this.fetchTemplates=function(a,b){var c=[{templateName:"Initial contact",templateSubject:"Job opportunity at McKinsey Digital Labs",templateData:"I came across your profile on "+a+". We have opportunities in "+b+" at MDL. Lorem Ipsum"},{templateName:"Forward profile",templateSubject:"Prospective candidate profile",templateData:"Looks like a promising candidate for "+b+". Please go through the profile once."}];return c},this.currentProfile={}}]),angular.module("localTalentsUiApp").service("cache",function(){var a=this;a.currentUser=null,a.url="http://ec2-52-24-32-106.us-west-2.compute.amazonaws.com:3000"}),angular.module("localTalentsUiApp").service("chart",function(){var a=this;a.columnChart=function(a,b,c,d,e,f){console.log(b,_.keys(b),_.values(b)),$(function(){$(a).highcharts({chart:{type:"column"},credits:!1,title:{text:'<i class="fa fa-line-chart"></i>'+c},subtitle:{text:""},xAxis:{categories:_.keys(b),crosshair:!0},yAxis:{min:0,title:{text:d}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[{name:e,data:_.values(b),color:f}]})})}}),angular.module("localTalentsUiApp").controller("MainCtrl",["$scope",function(a){}]),angular.module("localTalentsUiApp").controller("AboutCtrl",["$scope",function(a){}]),angular.module("localTalentsUiApp").controller("FavouritesCtrl",["$scope",function(a){}]),angular.module("localTalentsUiApp").controller("Favouritesdrill1Ctrl",["$scope","fetchFavDataSvc","$window","$rootScope","checkCordovaSvc","cache",function(a,b,c,d,e,f){a.isSkillDisabled=!0,d.showMainHeader=!0,a.profiles=[],a.skills=_.compact(_.uniq(_.pluck(b.savedData,"skill"))),a.getCities=function(c){a.citySelected=null,a.selectedSkill=c,a.cities=_.compact(_.uniq(_.pluck(_.where(b.savedData,{skill:c}),"location_ui"))),console.log("cities",a.cities),a.isCityDisabled=!1},a.getProfiles=function(c){a.selectedCity=c,a.profiles=_.where(b.savedData,{location_ui:a.selectedCity,skill:a.selectedSkill});for(var d=0;d<a.profiles.length;d++)"Github"===a.profiles[d].search_source?a.profiles[d].imgUrl="images/ignore/giticon.png":(a.profiles[d].img_url="images/ignore/usericon.png",a.profiles[d].imgUrl="images/ignore/indeedicon.png");console.log(a.profiles)},a.openProfileMain=function(a){if(e.isCordovaApp){cordova.InAppBrowser.open(a,"_blank","location=yes")}else c.open(a)},a.openGoogle=function(a,b,d,f){if(e.isCordovaApp){var g="http://www.google.com/#q="+a+"+"+b+"+"+d+"+"+f+"+site:linkedin.com";cordova.InAppBrowser.open(g,"_blank","location=yes")}else c.open("http://www.google.com/#q="+a+"+"+b+"+"+d+"+"+f+"+site:linkedin.com")},a.openProfile=function(a){b.currentFav=a,d.navigateTo("favouritesDrill2")},a.skillSelected=null,a.setSkill=function(b){a.skillSelected=b},a.citySelected=null,a.setCity=function(b){a.citySelected=b},a.openProfileLink=function(a){if(e.isCordovaApp){alert("abcdefg");cordova.InAppBrowser.open(a.baseUrl+a.profile_url,"_blank","location=yes")}else c.open(a.baseUrl+a.profile_url)}}]),angular.module("localTalentsUiApp").controller("Favouritesdrill2Ctrl",["$scope","fetchFavDataSvc","calendarSvc","emailSvc","$rootScope","$http","cache",function(a,b,c,d,e,f,g){if(a.showCalendar=!1,console.log(b.currentFav),a.displayPerson=b.currentFav,a.interviewTitle=a.displayPerson.f_name+" "+a.displayPerson.l_name+" Interview",a.interviewLocation="",a.interviewNotes="",a.events=[],0==b.currentFav.isInit)a.events=[{badgeClass:"info",eventNo:1,badgeIconClass:"glyphicon-star",title:"Contact",content:"Send email",isVisible:!0,actionText:"email",showNextButton:!0,subTitle:""},{badgeClass:"warning",badgeIconClass:"glyphicon-edit",title:"Schedule for interview",eventNo:2,content:"Set reminder.",isVisible:!1,actionText:"Schedule",showNextButton:!0,subTitle:"",interviewDate:"",interviewID:""},{badgeClass:"info",badgeIconClass:"glyphicon-check",title:"Hired/Not Hired",eventNo:3,content:"Set status.",isVisible:!1,actionText:"Status",showNextButton:!1,subTitle:""}];else{var h=JSON.parse(b.currentFav.stage_details);a.events=h.stage}a.saveStageDetails=function(){b.currentFav.stage_details=JSON.stringify({stage:a.events}),1==a.events[2].isVisible?(console.log("in 3"),b.currentFav.curr_stage="3"):1==a.events[1].isVisible&&0==a.events[2].isVisible&&(b.currentFav.curr_stage="2",console.log("in 2")),b.currentFav.isInit=!0;var c={favourite:b.currentFav};console.log(c),f.post(g.url+"/modifyFav",c).then(function(a){console.log(a)})},a.showNext=function(b){1===b?(a.events[1].isVisible=!0,a.events[0].title="Contacted",a.events[0].showNextButton=!1):2===b&&(a.events[2].isVisible=!0,a.events[1].title="Scheduled",a.events[1].showNextButton=!1)},a.eventAction=function(b){3===b&&swal({title:"Set Status",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#5CB85C",confirmButtonText:"Hired",cancelButtonText:"Not Hired",closeOnConfirm:!1,closeOnCancel:!1},function(b){b?(swal("Hired!.","success"),a.events[2].title="Hired"):(swal("Not hired","","error"),a.events[2].title="Not hired",a.events[2].content="Candidate hired."),a.$digest()}),2===b&&(a.showCalendar=!0),1===b&&e.navigateTo("email")},a.onTimeSet=function(b,c){console.log(b),a.events[1].interviewDate=b,a.dateArr=[],a.dateArr[0]=b.getFullYear(),a.dateArr[1]=b.getMonth(),a.dateArr[2]=b.getDate(),a.dateArr[3]=b.getHours(),a.dateArr[4]=b.getMinutes(),a.dateArr[5]=b.getSeconds(),a.dateArr[6]=0,a.dateArr[7]=0,console.log(a.dateArr)},a.setReminder=function(){c.addEntry(a.dateArr,a.interviewTitle,a.interviewLocation,a.interviewNotes)&&(a.showCalendar=!1,a.showNext(2))},a.alertInput=function(b){var c=new Date;swal({title:"Add a note",text:c,type:"input",showCancelButton:!0,closeOnConfirm:!0,animation:"",inputPlaceholder:"Write something"},function(d){return d===!1?!1:""===d?(swal.showInputError("Please fill in a comment!"),!1):(1===b?(a.events[0].subTitle=c,a.events[0].content=d):2===b?(a.events[1].subTitle=c,a.events[1].content=d):3===b&&(a.events[2].subTitle=c,a.events[2].content=d),void a.$digest())})}}]),angular.module("localTalentsUiApp").controller("SearchCtrl",["$scope","$location","fetchFavDataSvc","$rootScope","$http","cache",function(a,b,c,d,e,f){d.showMainHeader=!0,a.selectedCountry="",a.selectedCountryCode="",a.location="",a.skill="Full Stack",a.cities=[],a.selectedCountryCode="other",a.gotoLoc=function(){if(""===a.location)swal("Please enter a city name","","error");else if(""===a.skill)swal("Please enter a skill","","error");else{var c="searchRes/"+a.location+"/"+a.skill+"/"+a.role+"/"+a.selectedCountryCode;b.path(c)}},a.countries=c.countryMapping,a.selectCountry=function(b){console.log(b),a.selectedCountry=b.name,a.selectedCountryCode=b.code};var g=function(){return e.get(f.url+"/getFavData").then(function(a){return c.savedData=a.data,c.savedData},function(a){return console.log("Error while fetching favourites",a),null})};g()}]),angular.module("localTalentsUiApp").controller("SearchresCtrl",["$scope","$routeParams","$http","fetchFavDataSvc","$window","checkCordovaSvc","$rootScope","cache","$timeout",function(a,b,c,d,e,f,g,h,i){console.log(b.arg1+b.arg2+b.arg3+b.arg4),a.toShow="50",g.showMainHeader=!0,a.top30=!0,a.top60=!1,a.showLoader=!0,a.showResults=!1;var j={loc:b.arg1,skill:b.arg2,country:b.arg4};console.log(j);var k=function(){c.post(h.url+"/",j).then(function(c){console.log(c.data);for(var d=c.data,e=0;e<d.length;e++){d[e].misc_url=d[e].misc_url.replace("Email:",""),d[e].sno=e+1,d[e].skill=b.arg2,d[e].location_ui=b.arg1,d[e].stage_details="",d[e].isInit=!1,"indeed"===d[e].search_source&&(console.log("in indeed"),d[e].image_url="images/ignore/usericon.png"),"github"===d[e].search_source?d[e].imgUrl="images/ignore/giticon.png":"indeed"===d[e].search_source?d[e].imgUrl="images/ignore/indeedicon.png":"linkedin"===d[e].search_source&&(d[e].imgUrl="images/ignore/linkedin.png");var f=_.where(d,{search_source:"github"});"southafrica"===j.country?a.persons=f:a.persons=_.shuffle(d)}a.showLoader=!1,a.showResults=!0})};k(),a.searchSource="";var l=["GitHub","GitHub","Stack Overflow","Stack Overflow","LinkedIn","LinkedIn","Twitter","Twitter","Indeed","","MeetUp",""],m=0,n=function(){setTimeout(function(){a.searchSource=l[m%10],m%2?a.showCustomLoader=!0:a.showCustomLoader=!1,a.$apply(),a.showLoader===!0&&n(m++)},500),console.log(a.searchSource)};n();a.addToFav=function(a){console.log(a),a.curr_stage="1";var b={favourite:a};c.post(h.url+"/addToFav",b).then(function(b){console.log(b),swal("Success",a.f_name+" "+a.l_name+" added to favourites","success"),d.savedData.push(a)})},a.openProfile=function(a){if(f.isCordovaApp){cordova.InAppBrowser.open(a.baseUrl+a.profile_url,"_blank","location=yes")}else e.open(a.baseUrl+a.profile_url)},a.openGoogle=function(a,b,c,d){if(f.isCordovaApp){var g="http://www.google.com/#q="+a+"+"+b+"+"+c+"+"+d+"+site:linkedin.com";cordova.InAppBrowser.open(g,"_blank","location=yes")}else e.open("http://www.google.com/#q="+a+"+"+b+"+"+c+"+"+d+"+site:linkedin.com")},a.openAlert=function(b){var c=b.search_source;swal({title:"View profile",text:"",type:"",showCancelButton:!0,cancelButtonText:"Close",confirmButtonColor:"#5CB85C",confirmButtonText:"Open "+c+" profile",closeOnConfirm:!1,closeOnCancel:!0},function(c){c&&a.openProfile(b),a.$digest()})},a.showNumber=function(b){a.top30=!a.top30,a.top60=!a.top60}}]),function(){function a(a,b){for(var c in a){var d=a[c],e=this.input.getAttribute("data-"+c.toLowerCase());this[c]="number"==typeof d?parseInt(e):!1===d?null!==e:d instanceof Function?null:e,this[c]||0===this[c]||(this[c]=c in b?b[c]:d)}}function b(a,b){return"string"==typeof a?(b||document).querySelector(a):a||null}function c(a,b){return f.call((b||document).querySelectorAll(a))}function d(){c("input.awesomplete").forEach(function(a){new e(a)})}var e=function(c,d){var f=this;this.input=b(c),this.input.setAttribute("autocomplete","false"),this.input.setAttribute("aria-autocomplete","list"),d=d||{},a.call(this,{minChars:2,maxItems:10,autoFirst:!1,filter:e.FILTER_CONTAINS,sort:e.SORT_BYLENGTH,item:function(a,c){return b.create("li",{innerHTML:a.replace(RegExp(b.regExpEscape(c.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false"})},replace:function(a){this.input.value=a}},d),this.index=-1,this.container=b.create("div",{className:"awesomplete",around:c}),this.ul=b.create("ul",{hidden:"",inside:this.container}),this.status=b.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),b.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(a){var b=a.keyCode;f.opened&&(13===b&&f.selected?(a.preventDefault(),f.select()):27===b?f.close():(38===b||40===b)&&(a.preventDefault(),f[38===b?"previous":"next"]()))}}),b.bind(this.input.form,{submit:this.close.bind(this)}),b.bind(this.ul,{mousedown:function(a){if(a=a.target,a!==this){for(;a&&!/li/i.test(a.nodeName);)a=a.parentNode;a&&f.select(a)}}}),this.input.hasAttribute("list")?(this.list="#"+c.getAttribute("list"),c.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||d.list||[],e.all.push(this)};e.prototype={set list(a){Array.isArray(a)?this._list=a:"string"==typeof a&&-1<a.indexOf(",")?this._list=a.split(/\s*,\s*/):(a=b(a))&&a.children&&(this._list=f.apply(a.children).map(function(a){return a.textContent.trim()})),document.activeElement===this.input&&this.evaluate()},get selected(){return-1<this.index},get opened(){return this.ul&&null==this.ul.getAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,b.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this["goto"](0),b.fire(this.input,"awesomplete-open")},next:function(){this["goto"](this.index<this.ul.children.length-1?this.index+1:-1)},previous:function(){var a=this.ul.children.length;this["goto"](this.selected?this.index-1:a-1)},"goto":function(a){var c=this.ul.children;this.selected&&c[this.index].setAttribute("aria-selected","false"),this.index=a,a>-1&&0<c.length&&(c[a].setAttribute("aria-selected","true"),this.status.textContent=c[a].textContent),b.fire(this.input,"awesomplete-highlight")},select:function(a){if(a=a||this.ul.children[this.index]){var c;b.fire(this.input,"awesomplete-select",{text:a.textContent,preventDefault:function(){c=!0}}),c||(this.replace(a.textContent),this.close(),b.fire(this.input,"awesomplete-selectcomplete"))}},evaluate:function(){var a=this,b=this.input.value;b.length>=this.minChars&&0<this._list.length?(this.index=-1,this.ul.innerHTML="",this._list.filter(function(c){return a.filter(c,b)}).sort(this.sort).every(function(c,d){return a.ul.appendChild(a.item(c,b)),d<a.maxItems-1}),0===this.ul.children.length?this.close():this.open()):this.close()}},e.all=[],e.FILTER_CONTAINS=function(a,c){return RegExp(b.regExpEscape(c.trim()),"i").test(a)},e.FILTER_STARTSWITH=function(a,c){return RegExp("^"+b.regExpEscape(c.trim()),"i").test(a)},e.SORT_BYLENGTH=function(a,b){return a.length!==b.length?a.length-b.length:b>a?-1:1};var f=Array.prototype.slice;return b.create=function(a,c){var d,e=document.createElement(a);for(d in c){var f=c[d];"inside"===d?b(f).appendChild(e):"around"===d?(f=b(f),f.parentNode.insertBefore(e,f),e.appendChild(f)):d in e?e[d]=f:e.setAttribute(d,f)}return e},b.bind=function(a,b){if(a)for(var c in b){var d=b[c];c.split(/\s+/).forEach(function(b){a.addEventListener(b,d)})}},b.fire=function(a,b,c){var d=document.createEvent("HTMLEvents");d.initEvent(b,!0,!0);for(var e in c)d[e]=c[e];a.dispatchEvent(d)},b.regExpEscape=function(a){return a.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},"undefined"!=typeof Document&&("loading"!==document.readyState?d():document.addEventListener("DOMContentLoaded",d)),e.$=b,e.$$=c,"undefined"!=typeof self&&(self.Awesomplete=e),"object"==typeof exports&&(module.exports=e),e}(),angular.module("localTalentsUiApp").controller("LoginCtrl",["$location","cache","$rootScope",function(a,b,c){var d=this;d.user={username:"",password:""},d.checkUser=function(){"Shweta"===d.user.username||"1234"===d.user.password?(a.path("search"),b.currentUser=d.user.username,c.username="Shweta Juneja"):swal("Invalid credentials","Please check your username and password","error")}}]),angular.module("localTalentsUiApp").controller("AddnewCtrl",["$scope",function(a){}]),angular.module("localTalentsUiApp").controller("SidenavCtrl",["$scope",function(a){}]),angular.module("localTalentsUiApp").controller("WelcomeCtrl",["fetchFavDataSvc","$http","$rootScope","cache","chart",function(a,b,c,d,e){var f=this,g=function(a,b,c){f.showLoad=a,f.showSpinner=b,f.fetchText=c},h=function(){return b.get(d.url+"/getFavData").then(function(b){return a.savedData=b.data,g(!1,"","Data Fetched"),a.savedData},function(a){return swal("Unable to fetch data","Please check your internet connection","error"),g(!1,"","Unable to fetch favourites !"),console.log("Error while fetching favourites",a),f.showSpinner=!1,null})},i=function(){},j=function(a){k(a),l(a)},k=function(a){var b=_.countBy(_.pluck(a,"skill"),_.identity);e.columnChart("#techChart",b,"Tech Stack - Candidates","No of Candidates","Developers")},l=function(a){var b=_.countBy(_.pluck(a,"search_source"),_.identity);e.columnChart("#sourceChart",b,"Source - Candidates","No of Candidates","Developers","purple")},m=function(a){return _.where(a,{curr_stage:"1"}).length},n=function(a){return _.where(a,{curr_stage:"2"}).length},o=function(a){return _.where(a,{curr_stage:"3"}).length},p=function(){f.searches={},g(!0,"indeterminate","Fetching the latest data for you"),c.showMainHeader=!0,h().then(function(a){console.log("favourites",a),f.searches.recent=i()||[],f.noOfContacted=m(a)||0,f.noOfScheduled=n(a)||0,f.noOfResultsDone=o(a)||0,j(a)})};f.replaceUndefined=function(a){return a.replace("undefined/","")},p()}]),angular.module("localTalentsUiApp").controller("EmailCtrl",["$scope","emailSvc","fetchFavDataSvc","$rootScope",function(a,b,c,d){var e=[];console.log(c.currentFav),a.user=c.currentFav,e=b.fetchTemplates(a.user.search_source,a.user.skills),a.showContent=!1,a.template={},a.selectedTemplate="",console.log(e),a.templates=_.uniq(_.pluck(e,"templateName")),a.getTemplate=function(b){console.log(b);var c=_.where(e,{templateName:b});a.template=c[0],console.log(a.template),a.showContent=!0},a.sendEmail=function(){var c="Hi "+a.user.f_name+" "+a.user.l_name+a.template.templateData;b.sendEmail(a.user.misc_url,"","",a.template.templateSubject,c),d.navigateTo("favouritesDrill2")}}]),angular.module("localTalentsUiApp").controller("OcrCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("localTalentsUiApp").directive("customLoader",["$animate","$timeout",function(a,b){return function(c,d,e){c.$watch(e.customLoader,function(c,e){if(c!=e){var f="fadeIn";console.log("watch"),a.addClass(d,f).then(function(){b(function(){a.removeClass(d,f)})})}})}}]);